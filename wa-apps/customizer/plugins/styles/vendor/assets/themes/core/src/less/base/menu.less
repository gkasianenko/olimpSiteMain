// Name:            Menu
// Description:
//
// Component:       ``
//
// ========================================================================


// Variables
// ========================================================================

@menu-dropdown-z-index:                              @global-z-index + 20;
@menu-dropdown-width:                                250px;
@menu-dropdown-background:                           @global-background;
@menu-dropdown-color:                                @global-color;
@menu-dropdown-box-shadow:                           0 5px 12px rgba(0,0,0,0.15);

@menu-dropdown-nav-item-padding-vertical:            5px;
@menu-dropdown-nav-item-padding-horizontal:          15px;
@menu-dropdown-nav-line-height:                      1.2;
@menu-dropdown-nav-font-size:                        @global-small-font-size;

@menu-dropdown-nav-default-item-color:               @global-muted-color;
@menu-dropdown-nav-default-item-hover-background:    @global-muted-background;
@menu-dropdown-nav-default-item-hover-color:         @global-color;
@menu-dropdown-nav-default-item-active-background:   @global-muted-background;
@menu-dropdown-nav-default-item-active-color:        @global-emphasis-color;

@menu-dropdown-nav-icons-item-color:                 @global-muted-color;
@menu-dropdown-nav-icons-item-hover-background:      @global-muted-background;
@menu-dropdown-nav-icons-item-hover-color:           @global-color;
@menu-dropdown-nav-icons-item-active-background:     @global-muted-background;
@menu-dropdown-nav-icons-item-active-color:          @global-emphasis-color;


@menu-dropbar-z-index:                               @global-z-index + 20;
@menu-dropbar-width:                                 650px;
@menu-dropbar-padding:                               20px;
@menu-dropbar-background:                            @global-background;
@menu-dropbar-color:                                 @global-color;
@menu-dropbar-box-shadow:                            0 5px 12px rgba(0,0,0,0.15);

@menu-dropbar-nav-item-padding-vertical:			 5px;
@menu-dropbar-nav-item-padding-horizontal:           15px;
@menu-dropbar-nav-line-height:                       1.2;
@menu-dropbar-nav-font-size:                         @global-small-font-size;

@menu-dropbar-nav-default-item-color:                @global-muted-color;
@menu-dropbar-nav-default-item-hover-color:          @global-color;
@menu-dropbar-nav-default-item-active-color:         @global-emphasis-color;

@menu-dropbar-nav-icons-item-color:                  @global-muted-color;
@menu-dropbar-nav-icons-item-hover-color:            @global-color;
@menu-dropbar-nav-icons-item-active-color:           @global-emphasis-color;

@menu-dropbar-nav-primary-item-color:                @global-muted-color;
@menu-dropbar-nav-primary-item-hover-color:          @global-color;
@menu-dropbar-nav-primary-item-active-color:         @global-emphasis-color;

@menu-dropbar-nav-secondary-item-color:              @global-muted-color;
@menu-dropbar-nav-secondary-item-hover-color:        @global-color;
@menu-dropbar-nav-secondary-item-active-color:       @global-emphasis-color;

@menu-dropbar-nav-banner-item-color:                 @global-muted-color;
@menu-dropbar-nav-banner-item-hover-color:           @global-color;
@menu-dropbar-nav-banner-item-active-color:          @global-emphasis-color;


@menu-accordion-nav-font-size:                       @global-small-font-size;
@menu-accordion-nav-item-padding-vertical:           5px;
@menu-accordion-nav-item-padding-horizontal:         20px;

@menu-accordion-nav-default-item-color:              @global-muted-color;
@menu-accordion-nav-default-item-hover-background:   @global-muted-background;
@menu-accordion-nav-default-item-hover-color:        @global-color;
@menu-accordion-nav-default-item-active-background:  @global-muted-background;
@menu-accordion-nav-default-item-active-color:       @global-emphasis-color;

@menu-accordion-nav-icons-item-background:           transparent;
@menu-accordion-nav-icons-item-color:                @global-muted-color;
@menu-accordion-nav-icons-item-hover-background:     fade(@global-color, 5%);
@menu-accordion-nav-icons-item-hover-color:          @global-color;
@menu-accordion-nav-icons-item-active-background:    transparent;
@menu-accordion-nav-icons-item-active-color:         @global-emphasis-color;


@menu-nav-parent-icon-width:                         (@global-line-height * 1em);
@menu-nav-parent-icon-height:                        @menu-nav-parent-icon-width;
@menu-nav-parent-icon-color:                         @global-color;

@internal-menu-parent-chevron-up-image:              "../../../../core/src/images/backgrounds/menu-parent-chevron-up.svg";
@internal-menu-parent-chevron-down-image:            "../../../../core/src/images/backgrounds/menu-parent-chevron-down.svg";
@internal-menu-parent-chevron-left-image:            "../../../../core/src/images/backgrounds/menu-parent-chevron-left.svg";
@internal-menu-parent-chevron-right-image:           "../../../../core/src/images/backgrounds/menu-parent-chevron-right.svg";

/* ========================================================================
   Component: Menu
 ========================================================================== */


/*
 * Dropdown
 */

.uk-menu-dropdown ul {
	display: none;
	margin: 0;
    padding: 0;
    list-style: none;
	position: absolute;
	z-index: @menu-dropdown-z-index;
	box-sizing: border-box;
	width: @menu-dropdown-width;
	background: @menu-dropdown-background;
	color: @menu-dropdown-color;
	box-shadow: @menu-dropdown-box-shadow;
}
.uk-menu-dropdown ul.uk-open {
	display: block;
}

.uk-menu-dropdown ul {
    margin: 0;
    padding: 0;
    list-style: none;
	line-height: @menu-dropdown-nav-line-height;
	font-size: @menu-dropdown-nav-font-size;
}
.uk-menu-dropdown ul > li > a {
    position: relative;
	padding: @menu-dropdown-nav-item-padding-vertical @menu-dropdown-nav-item-padding-horizontal;
	display: block;
	text-decoration: none;
}

/* Default modifier */
.uk-menu-dropdown.uk-menu-default ul > li > a {
	color: @menu-dropdown-nav-default-item-color;
}
.uk-menu-dropdown.uk-menu-default ul > li > a:hover,
.uk-menu-dropdown.uk-menu-default ul > li > a:focus {
    background: @menu-dropdown-nav-default-item-hover-background;
	color: @menu-dropdown-nav-default-item-hover-color;
}
.uk-menu-dropdown.uk-menu-default ul > li.uk-active > a {
    background: @menu-dropdown-nav-default-item-active-background;
    color: @menu-dropdown-nav-default-item-active-color;
}

/* Icons modifier */
.uk-menu-dropdown.uk-menu-icons ul > li > a {
	color: @menu-dropdown-nav-icons-item-color;
}
.uk-menu-dropdown.uk-menu-icons ul > li > a:hover,
.uk-menu-dropdown.uk-menu-icons ul > li > a:focus {
    background: @menu-dropdown-nav-icons-item-hover-background;
	color: @menu-dropdown-nav-icons-item-hover-color;
}
.uk-menu-dropdown.uk-menu-icons ul > li.uk-active > a {
    background: @menu-dropdown-nav-icons-item-active-background;
    color: @menu-dropdown-nav-icons-item-active-color;
}


/*
 * Dropbar
 */

.uk-menu-dropbar > li > ul {
	display: none;
	position: absolute;
	z-index: @menu-dropbar-z-index;
	box-sizing: border-box;
	width: @menu-dropbar-width;
	background: @menu-dropbar-background;
	color: @menu-dropbar-color;
	box-shadow: @menu-dropbar-box-shadow;
	padding: @menu-dropbar-padding;
}
header .uk-menu-dropbar > li > ul {
	width: 100% !important;
	left: 0 !important;
}
.uk-menu-dropbar > li > ul.uk-open {
	display: block;
}

.uk-menu-dropbar ul {
    margin: 0;
    padding: 0;
    list-style: none;
	line-height: @menu-dropbar-nav-line-height;
	font-size: @menu-dropbar-nav-font-size;
}
.uk-menu-dropbar > li > ul > li {
    padding-bottom: 15px;
	display: inline-block;
    vertical-align: top;
	width: ~'calc(100% * 1 / 3.001)';
}
.uk-menu-dropbar li li > a {
	display: block;
	text-decoration: none;
	padding: @menu-dropbar-nav-item-padding-vertical @menu-dropbar-nav-item-padding-horizontal;
}
.uk-menu-dropbar li li li > a {
	padding-top: 0;
	padding-bottom: 0;
}
.uk-menu-dropbar > li > ul > li > a {
    font-weight: 700;
    text-transform: uppercase;
}
.uk-menu-dropbar ul li {
	border-top: none;
}


/* Default modifier */
.uk-menu-dropbar.uk-menu-default li li > a {
	color: @menu-dropbar-nav-default-item-color;
}
.uk-menu-dropbar.uk-menu-default li li > a:hover,
.uk-menu-dropbar.uk-menu-default li li > a:focus {
    color: @menu-dropbar-nav-default-item-hover-color;
}
.uk-menu-dropbar.uk-menu-default li li.uk-active > a {
    color: @menu-dropbar-nav-default-item-active-color;
}

/* Icons modifier */
.uk-menu-dropbar.uk-menu-icons li li > a {
	color: @menu-dropbar-nav-icons-item-color;
}
.uk-menu-dropbar.uk-menu-icons li li > a:hover,
.uk-menu-dropbar.uk-menu-icons li li > a:focus {
    color: @menu-dropbar-nav-icons-item-hover-color;
}
.uk-menu-dropbar.uk-menu-icons li li.uk-active > a {
    color: @menu-dropbar-nav-icons-item-active-color;
}

/* Primary modifier */
.uk-menu-dropbar.uk-menu-primary li li > a {
	color: @menu-dropbar-nav-primary-item-color;
}
.uk-menu-dropbar.uk-menu-primary li li > a:hover,
.uk-menu-dropbar.uk-menu-primary li li > a:focus {
    color: @menu-dropbar-nav-primary-item-hover-color;
}
.uk-menu-dropbar.uk-menu-primary li li.uk-active > a {
    color: @menu-dropbar-nav-primary-item-active-color;
}

.uk-menu-dropbar.uk-menu-primary li li li > a {
    padding-top: 3px;
    padding-bottom: 3px;
}
.uk-menu-dropbar.uk-menu-primary > li > ul > li > a {
    padding-top: 15px;
	padding-bottom: 10px;
	font-size: 1.2rem;
	font-weight: normal;
}

/* Secondary modifier */
header .uk-menu-dropbar.uk-menu-secondary > li > ul > li {
    vertical-align: bottom;
    width: ~'calc(100% * 1 / 4)';
}
@media (min-width: @breakpoint-large){
	header .uk-menu-dropbar.uk-menu-secondary > li > ul > li {
		width: ~'calc(100% * 1 / 5)';
	}
}

.uk-menu-dropbar.uk-menu-secondary li li > a {
	color: @menu-dropbar-nav-secondary-item-color;
}
.uk-menu-dropbar.uk-menu-secondary li li > a:hover,
.uk-menu-dropbar.uk-menu-secondary li li > a:focus {
    color: @menu-dropbar-nav-secondary-item-hover-color;
}
.uk-menu-dropbar.uk-menu-secondary li li.uk-active > a {
    color: @menu-dropbar-nav-secondary-item-active-color;
}

.uk-menu-dropbar.uk-menu-secondary > li > ul > li > a {
	font-size: 1rem;
	text-align: center;
}

/* Banner modifier */
.uk-menu-dropbar.uk-menu-banner > li > ul {
    min-height: 200px;
}
.uk-menu-dropbar.uk-menu-banner > li > ul > li:hover > div {
	z-index: 1;
}
.uk-menu-dropbar.uk-menu-banner > li > ul > li {
    padding-bottom: 0;
    padding-top: 15px;
}

.uk-menu-dropbar.uk-menu-banner li li > a {
	color: @menu-dropbar-nav-banner-item-color;
}
.uk-menu-dropbar.uk-menu-banner li li > a:hover,
.uk-menu-dropbar.uk-menu-banner li li > a:focus {
    color: @menu-dropbar-nav-banner-item-hover-color;
}
.uk-menu-dropbar.uk-menu-banner li li.uk-active > a {
    color: @menu-dropbar-nav-banner-item-active-color;
}

.uk-menu-dropbar.uk-menu-banner > li > ul > li > a {
	font-size: 1rem;
	font-weight: normal;
}


/*
 * Accordion
 */

.uk-menu-accordion ul {
    margin: 0;
    padding: 0;
    list-style: none;
}

.uk-menu-accordion li li > a {
    position: relative;
    display: block;
    text-decoration: none;
}
.uk-menu-accordion li li > a:focus { outline: none; }
.uk-menu-accordion li li > a {
	padding-top: @menu-accordion-nav-item-padding-vertical;
	padding-bottom: @menu-accordion-nav-item-padding-vertical;
	padding-right: @menu-accordion-nav-item-padding-horizontal;
}
.uk-menu-accordion li li a {
    padding-left: 30px;
}
.uk-menu-accordion li li li a {
    padding-left: 40px;
}
.uk-menu-accordion li li li li a {
    padding-left: 50px;
}
.uk-menu-accordion li li li li li a {
    padding-left: 60px;
}

/* Default modifier */
.uk-menu-accordion.uk-menu-default li > a {
	color: @menu-accordion-nav-default-item-color;
}
.uk-menu-accordion.uk-menu-default li > a:hover,
.uk-menu-accordion.uk-menu-default li > a:focus {
    background: @menu-accordion-nav-default-item-hover-background;
    color: @menu-accordion-nav-default-item-hover-color;
}
.uk-menu-accordion.uk-menu-default li.uk-active > a {
    background: @menu-accordion-nav-default-item-active-background;
    color: @menu-accordion-nav-default-item-active-color;
}

/* Icons modifier */
.uk-menu-accordion.uk-menu-icons li > a {
	color: @menu-accordion-nav-icons-item-color;
}
.uk-menu-accordion.uk-menu-icons li > a:hover,
.uk-menu-accordion.uk-menu-icons li > a:focus {
    background: @menu-accordion-nav-icons-item-hover-background;
    color: @menu-accordion-nav-icons-item-hover-color;
}
.uk-menu-accordion.uk-menu-icons li.uk-active > a {
    background: @menu-accordion-nav-icons-item-active-background;
    color: @menu-accordion-nav-icons-item-active-color;
}


/* Parent icon modifier*/
.uk-menu-parent-icon .uk-parent > a > .uk-parent-icon,
.uk-menu-parent-icon .uk-parent > a::after {
    content: "";
    position: absolute;
    float: right;
    .svg-fill(@internal-menu-parent-chevron-left-image, "#000", @menu-nav-parent-icon-color);
    background-repeat: no-repeat;
    background-position: 50% 50%;
}
.uk-menu-parent-icon .uk-parent > a::after {
	width: @menu-nav-parent-icon-width;
    height: @menu-nav-parent-icon-height;
	right: @menu-dropdown-nav-item-padding-horizontal;
	top: 50%;
	margin-top: -(@menu-nav-parent-icon-height / 2);
}
.uk-menu-parent-icon .uk-parent > a > .uk-parent-icon {
	top: 0;
	right: 0;
	bottom: 0;
	width: ~'calc(@{menu-nav-parent-icon-width} + @{menu-dropdown-nav-item-padding-horizontal} * 2)';
    background-color:@menu-accordion-nav-icons-item-background;
}
.uk-menu-parent-icon .uk-parent > a > .uk-parent-icon:hover {
    background-color:@menu-accordion-nav-icons-item-hover-background;
}
.uk-menu-parent-icon .uk-parent.uk-active > a > .uk-parent-icon {
    background-color:@menu-accordion-nav-icons-item-active-background;
}
.uk-menu-parent-icon .uk-parent.uk-open > a > .uk-parent-icon,
.uk-menu-parent-icon .uk-parent > a.uk-open::after,
.uk-menu-parent-icon .uk-parent.uk-open > a::after { .svg-fill(@internal-menu-parent-chevron-down-image, "#000", @menu-nav-parent-icon-color); }

/* Hide parent icon */
.uk-menu-more.uk-parent > a::after,
.uk-menu-dropbar ul .uk-parent > a::after,
.uk-menu-accordion .uk-parent > a::after { display: none; }

/* Hover */
// .uk-menu-accordion .uk-parent-icon:hover { background-color: rgba(0,0,0,0.03); }

.uk-submenu-show-all ~ * { display: none !important }


// Hooks
// ========================================================================

.hook-menu-misc;

.hook-menu-misc() {}


// Inverse
// ========================================================================

.hook-inverse() {

	/* Default modifier */
	.uk-menu-accordion.uk-menu-default li > a {
		color: @inverse-nav-default-item-color;;
	}
	.uk-menu-accordion.uk-menu-default li > a:hover,
	.uk-menu-accordion.uk-menu-default li > a:focus {
		color: @inverse-nav-default-item-hover-color;
	}
	.uk-menu-accordion.uk-menu-default li.uk-active > a {
		color: @inverse-nav-default-item-active-color;
	}

	/* Icons modifier */
	.uk-menu-accordion.uk-menu-icons li > a {
		color: @inverse-nav-default-item-color;;
	}
	.uk-menu-accordion.uk-menu-icons li > a:hover,
	.uk-menu-accordion.uk-menu-icons li > a:focus {
		color: @inverse-nav-default-item-hover-color;
	}
	.uk-menu-accordion.uk-menu-icons li.uk-active > a {
		color: @inverse-nav-default-item-active-color;
	}

	.uk-menu-parent-icon .uk-parent > a > .uk-parent-icon,
    .uk-menu-parent-icon > .uk-parent > a::after { .svg-fill(@internal-menu-parent-chevron-left-image, "#000", @inverse-nav-parent-icon-color); }
	.uk-menu-parent-icon .uk-parent.uk-open > a > .uk-parent-icon,
	.uk-menu-parent-icon > .uk-parent > a.uk-open::after,
	.uk-menu-parent-icon > .uk-parent.uk-open > a::after { .svg-fill(@internal-menu-parent-chevron-down-image, "#000", @inverse-nav-parent-icon-color); }

}


// Primary
// ========================================================================

.hook-primary() {

	/* Default modifier */
	.uk-menu-accordion.uk-menu-default li > a {
		color: @primary-nav-default-item-color;;
	}
	.uk-menu-accordion.uk-menu-default li > a:hover,
	.uk-menu-accordion.uk-menu-default li > a:focus {
		color: @primary-nav-default-item-hover-color;
	}
	.uk-menu-accordion.uk-menu-default li.uk-active > a {
		color: @primary-nav-default-item-active-color;
	}

	/* Icons modifier */
	.uk-menu-accordion.uk-menu-icons li > a {
		color: @primary-nav-default-item-color;;
	}
	.uk-menu-accordion.uk-menu-icons li > a:hover,
	.uk-menu-accordion.uk-menu-icons li > a:focus {
		color: @primary-nav-default-item-hover-color;
	}
	.uk-menu-accordion.uk-menu-icons li.uk-active > a {
		color: @primary-nav-default-item-active-color;
	}

	.uk-menu-parent-icon .uk-parent > a > .uk-parent-icon,
    .uk-menu-parent-icon > .uk-parent > a::after { .svg-fill(@internal-menu-parent-chevron-left-image, "#000", @primary-nav-parent-icon-color); }
	.uk-menu-parent-icon .uk-parent.uk-open > a > .uk-parent-icon,
	.uk-menu-parent-icon > .uk-parent > a.uk-open::after,
	.uk-menu-parent-icon > .uk-parent.uk-open > a::after { .svg-fill(@internal-menu-parent-chevron-down-image, "#000", @primary-nav-parent-icon-color); }

}
