/*!
 * customizer v1.2.0
 */
var t,e;t=this,e=function(t,e,n,i,s){"use strict";var o="default"in e?e.default:e;function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e,n,i,s,o,a,r,u,c){"boolean"!=typeof a&&(u=r,r=a,a=!1);const l="function"==typeof n?n.options:n;let d;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,s&&(l.functional=!0)),i&&(l._scopeId=i),o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=d):e&&(d=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),d)if(l.functional){const t=l.render;l.render=function(e,n){return d.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,d):[d]}return n}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var u={props:{config:{type:Object,required:!0}},computed:a({},e.mapGetters(["theme"]),{},e.mapGetters("sidebar",["openPanels","openPanelsCount"]),{name:function(){return this.config.name},title:function(){return this.config.title},badge:function(){return this.config.badge}}),methods:e.mapActions("sidebar",["closePanel"]),mounted:function(){var e=this;this.$nextTick((function(){var n=t.slider(e.$refs.breadcrumb);n.show(n.length-1)}))}},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"customizer-panel"},[n("div",{staticClass:"customizer-panel-title"},[n("button",{staticClass:"uk-button customizer-panel-back",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.closePanel()}}},[n("span",{staticClass:"uk-position-center",attrs:{"data-uk-icon":"icon: chevron-left"}})]),t._v(" "),n("h3",[t.openPanelsCount?n("div",{ref:"breadcrumb",staticClass:"customizer-panel-breadcrumb uk-slider"},[n("ul",{staticClass:"uk-breadcrumb uk-slider-items"},[n("li",[n("a",{on:{click:function(e){return e.preventDefault(),t.closePanel(0)}}},[t._v(t._s(t.theme.name))])]),t._v(" "),t._l(t.openPanels,(function(e,i){return n("li",[n("a",{directives:[{name:"show",rawName:"v-show",value:i!==t.openPanelsCount-1,expression:"index !== (openPanelsCount - 1)"}],on:{click:function(e){return e.preventDefault(),t.closePanel(i+1)}}},[t._v("\n                            "+t._s(e.title)+"\n                            ")])])}))],2)]):t._e(),t._v(" "),n("div",{staticClass:"customizer-panel-text uk-text-truncate"},[t._v("\n                "+t._s(t.title)+"\n                "),t.badge?n("span",{staticClass:"uk-badge customizer-panel-badge"},[t._v(t._s(t.badge))]):t._e()])])]),t._v(" "),t._t("default",[t._v(t._s(t.$t("Empty panel")))])],2)};c._withStripped=!0;var l={components:{Panel:r({render:c,staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0)},data:function(){return{last:null,initialWidth:0}},computed:a({},e.mapGetters(["theme"]),{},e.mapGetters("sidebar",["sectionList","sectionListCount","openPanels","openPanelsCount","panel"])),created:function(){this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",document.head.appendChild(this.stylesheet)},mounted:function(){var t=this;this.$nextTick((function(){t.initialWidth=t.$el.offsetWidth}))},methods:a({},e.mapActions("sidebar",["openPanel","closePanel"]),{beforeEnter:function(t){this.stylesheet.innerHTML=this.getStyle(),~t.style.left.indexOf("-")&&(t.style.left="-100%")},enter:function(t){t.offsetWidth,t.style.left=0},beforeLeave:function(t){t.style.left=0,t.offsetWidth},leave:function(t){this.$nextTick((function(){return t.style.left=function(t){for(;t.nextElementSibling;){if(t.nextElementSibling.classList.contains("v-enter"))return!0;t=t.nextElementSibling}return!1}(t)?"-100%":""}))},afterLeave:function(){},getStyle:function(){return this.panel?".customizer.expanded { margin-left: "+(this.panel.width||this.initialWidth)+"px; }\n\n                    .expanded .customizer-sidebar { width: "+(this.panel.width||this.initialWidth)+"px; }":""}})},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{ref:"sidebar",attrs:{tag:"div"},on:{"before-enter":t.beforeEnter,enter:t.enter,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.panel,expression:"!panel"}],key:"rootSection",ref:"root",staticClass:"customizer-panel"},[n("div",{staticClass:"customizer-panel-title"},[n("h3",[n("div",{staticClass:"customizer-panel-breadcrumb"},[n("ul",{staticClass:"uk-breadcrumb"},[n("li",[n("span",[t._v(t._s(t.$t("You are customizing")))])])])]),t._v(" "),n("div",{staticClass:"customizer-panel-text uk-text-truncate"},[t._v(t._s(t.theme.name))])])]),t._v(" "),t.sectionListCount?n("ul",{staticClass:"uk-nav uk-nav-default customizer-field-menu"},t._l(t.sectionList,(function(e){return n("li",{key:"sec-"+e.name},[n("h3",{staticClass:"customizer-field-menu-title",attrs:{tabindex:"0"},on:{click:function(n){return n.preventDefault(),t.openPanel(e.name)}}},[t._v("\n                    "+t._s(e.title)+"\n                    "),e.tooltip?n("span",{staticClass:"customizer-field-tooltip",attrs:{title:e.tooltip,"data-uk-tooltip":"delay: 500"}},[t._v("?")]):t._e(),t._v(" "),e.info?n("a",{staticClass:"customizer-field-info",attrs:{href:e.info,title:t.$t("go to instructions"),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v("i")]):t._e(),t._v(" "),n("span",{staticClass:"uk-position-center-right uk-position-small",attrs:{"data-uk-icon":"chevron-right"}})])])})),0):n("div",{staticClass:"uk-alert uk-alert-warning customizer-panel-margin-horizontal-indent"},[n("p",[t._v(t._s(t.$t("Install at least one plugin to work with design theme"))+": "),n("a",{attrs:{href:t.$store.getters.route.backend+"customizer/?module=plugins"}},[t._v(t._s(t.$t("search plugins")))])])])]),t._v(" "),t._l(t.openPanels,(function(e){return n("panel",{directives:[{name:"show",rawName:"v-show",value:e===t.panel,expression:"pan === panel"}],key:e.name,ref:"panels",refInFor:!0,attrs:{config:e}},[t._t("panel",[t._v(t._s(t.$t("Empty panel")))],{panel:e})],2)}))],2)};d._withStripped=!0;var v=r({render:d,staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0),h={computed:a({},e.mapState("sidebar",["collapse"]),{title:function(){return this.collapse?this.$t("Expand sidebar"):this.$t("Collapse sidebar")},icon:function(){return this.collapse?"triangle-right":"triangle-left"}}),methods:e.mapMutations("sidebar",["toggleCollapseStatus"])},p=function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"uk-button customizer-button-collapse",attrs:{type:"button",title:this.title},on:{click:this.toggleCollapseStatus}},[e("span",{staticClass:"uk-position-center",attrs:{"data-uk-icon":this.icon}})])};p._withStripped=!0;var f=r({render:p,staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0),m={data:function(){return{device:"desktop",devices:{desktop:{name:"Desktop"},tablet:{name:"Tablet",width:720,height:1080},phone:{name:"Phone",width:320,height:480}}}},created:function(){this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",document.head.appendChild(this.stylesheet)},watch:{device:function(t,e){this.stylesheet.innerHTML=this.getStyle(this.devices[t].width,this.devices[t].height)}},methods:{getStyle:function(t,e){return t&&e?".customizer-main {\n\n                margin: auto 0 auto -"+t/2+"px;\n\n                width: "+t+"px;\n\n                height: "+e+"px;\n\n                max-width: 100%;\n\n                max-height: 100%;\n\n                left: 50%;\n\n              }":""}}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"customizer-devices"},t._l(t.devices,(function(e,i){return n("button",{staticClass:"uk-button customizer-button-device",class:{"uk-active":t.device===i},attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.device=i}}},[n("span",{staticClass:"uk-position-center",attrs:{"data-uk-icon":i}})])})),0)};g._withStripped=!0;var _=r({render:g,staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0),b={data:function(){return{values:{},target:"",action:"",method:"POST"}},destroyed:function(){i.remove(this.$el)},methods:{submit:function(){return this.$el.submit(),this},encode:function(t){return i.isObject(t)?JSON.stringify(t):t}}},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:t.action,method:t.method,target:t.target,hidden:""}},t._l(t.values,(function(e,i){return n("input",{key:i,attrs:{name:i,type:"hidden"},domProps:{value:t.encode(e)}})})),0)};w._withStripped=!0;var k=r({render:w,staticRenderFns:[]},void 0,b,void 0,!1,void 0,!1,void 0,void 0,void 0),$={data:function(){return{name:"",loaded:!1}},destroyed:function(){i.remove(this.$el)},methods:{load:function(t){var e=this,n=this.$el.contentWindow,s=this.$el.contentDocument;s.body.childNodes.length&&(t.first=!this.loaded,this.loaded=!0,this.$parent.update({event:t,window:n,document:s},this),i.on(n,"beforeunload unload",(function(t){return e.$parent.update({event:t,window:n,document:s},e)})))}}},C=function(){var t=this.$createElement;return(this._self._c||t)("iframe",{style:!this.loaded&&{zIndex:-1},attrs:{name:this.name},on:{load:this.load}})};C._withStripped=!0;var y=r({render:C,staticRenderFns:[]},void 0,$,void 0,!1,void 0,!1,void 0,void 0,void 0),S={methods:{reload:function(){this.$emit("resolve"),window.onbeforeunload=null;var t=function(){return location.reload()};this.$store.dispatch("close").then(t,t)}}},x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"uk-modal-header"},[n("h2",{staticClass:"uk-modal-title"},[t._v(t._s(t.$t("Mismatch")))])]),t._v(" "),n("div",{staticClass:"uk-modal-body"},[t._v("\n        "+t._s(t.$t("Preview theme does not match customizable design theme."))+"\n    ")]),t._v(" "),n("div",{staticClass:"uk-modal-footer uk-text-right"},[n("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"},on:{click:t.reload}},[t._v(t._s(t.$t("Reload App")))]),t._v(" "),n("button",{staticClass:"uk-button uk-button-primary",attrs:{autofocus:""},on:{click:function(e){t.$emit("resolve"),t.$store.dispatch("preview/load")}}},[t._v(t._s(t.$t("Reload Preview")))])])])};x._withStripped=!0;var P=r({render:x,staticRenderFns:[]},void 0,S,void 0,!1,void 0,!1,void 0,void 0,void 0),z={data:function(){return{channel:0,current:null,method:"POST"}},created:function(){var t=this;this.$store.subscribeAction((function(e,n){var i=e.type,s=e.payload;return"preview/load"===i&&t.load(s)}))},computed:a({},e.mapGetters("preview",["status","src","overlay"]),{loading:function(){var t="preview-"+this.channel;return this.current&&this.current.name!==t}}),watch:{status:function(t,e){3===t&&this.$modal(P,null,{bgClose:!1,escClose:!1}).show({width:"xlarge"})}},methods:{load:function(t){void 0===t&&(t={});var e="preview-"+ ++this.channel,n=this.$refs.preview;this.pending&&this.pending.$destroy(),this.pending=this.create(y,{name:e},n),this.create(k,{values:t,target:e,action:t.src?t.src:this.src,method:this.method},n).submit().$destroy()},update:function(t,e){var n=t.event,i=t.window,s=t.document;"load"===n.type?(n.first&&(this.current&&this.current.$destroy(),this.current=e,this.pending=this.loading&&this.pending),this.loading||this.$store.dispatch("preview/ready",{event:n,window:i,document:s})):this.$store.dispatch("preview/"+n.type,{event:n,window:i,document:s})},create:function(t,e,i){void 0===i&&(i=null);var s=new n({parent:this,extends:t,data:function(){return e}});return i&&i.appendChild(s.$mount().$el),s}}},E=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"customizer-preview"},[e("div",{ref:"preview",staticClass:"customizer-preview-iframe"}),this._v(" "),e("transition",{attrs:{"enter-active-class":"uk-transition-fade","leave-active-class":"uk-transition-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading||this.overlay,expression:"loading || overlay"}],staticClass:"customizer-overlay uk-position-cover uk-position-z-index uk-overlay uk-overlay-default"})]),this._v(" "),e("transition",{attrs:{"enter-active-class":"uk-transition-fade","leave-active-class":"uk-transition-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!this.current,expression:"!current"}],staticClass:"uk-position-top uk-position-z-index"},[e("div",{staticClass:"button-progress-top uk-button uk-button-default uk-button-loading uk-width-1-1"},[this._v(" ")])])])],1)};E._withStripped=!0;var R=r({render:E,staticRenderFns:[]},void 0,z,void 0,!1,void 0,!1,void 0,void 0,void 0),O={data:function(){return{loading:!1}},methods:{back:function(){var t=this;if(!this.loading&&4===this.$store.state.status){this.loading=!0,window.onbeforeunload=null;var e=function(){return location.assign(t.$store.getters.route.preview)};this.$store.dispatch("close").then(e,e)}}}},j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"uk-button customizer-button-close",class:{"uk-button-loading":t.loading},attrs:{title:t.$t("Close customizer")},on:{click:function(e){return e.preventDefault(),t.back(e)}}},[n("span",{staticClass:"uk-position-center",attrs:{"data-uk-close":""}})])};j._withStripped=!0;var F=r({render:j,staticRenderFns:[]},void 0,O,void 0,!1,void 0,!1,void 0,void 0,void 0),L={methods:{reload:function(){this.$emit("resolve"),window.onbeforeunload=null;var t=function(){return location.reload()};this.$store.dispatch("close").then(t,t)},back:function(){var t=this;this.$emit("resolve"),window.onbeforeunload=null;var e=function(){return location.assign(t.$store.getters.route.preview)};this.$store.dispatch("close").then(e,e)}}},T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"uk-modal-header"},[n("h2",{staticClass:"uk-modal-title"},[t._v(t._s(t.$t("Published")))])]),t._v(" "),n("div",{staticClass:"uk-modal-body"},[t._v("\n        "+t._s(t.$t("Сhanges applied"))+"\n    ")]),t._v(" "),n("div",{staticClass:"uk-modal-footer uk-text-right"},[n("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"},on:{click:t.reload}},[t._v(t._s(t.$t("Return to customize")))]),t._v(" "),n("button",{staticClass:"uk-button uk-button-primary",attrs:{autofocus:""},on:{click:t.back}},[t._v(t._s(t.$t("Return to site")))])])])};T._withStripped=!0;var D=r({render:T,staticRenderFns:[]},void 0,L,void 0,!1,void 0,!1,void 0,void 0,void 0),A={data:function(){return{sending:!1}},methods:{publish:function(){var t=this;this.sending||4!==this.$store.state.status||(this.setStatus(!0),this.$store.dispatch("publish").then((function(){t.$modal(D,null,{bgClose:!1,escClose:!1}).show({width:"xlarge"}),t.setStatus()}),(function(){t.setStatus()})))},setStatus:function(t){this.$emit("sending",t),this.sending=t}}},N=function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"uk-button uk-button-primary uk-button-small",class:{"uk-button-sending":this.sending},attrs:{type:"button"},on:{click:this.publish}},[this._v(this._s(this.$t("Publish")))])};N._withStripped=!0;var V=r({render:N,staticRenderFns:[]},void 0,A,void 0,!1,void 0,!1,void 0,void 0,void 0),W={data:function(){return{sending:!1}},methods:{save:function(){var t=this;this.sending||4!==this.$store.state.status||(this.setStatus(!0),this.$store.dispatch("save").then((function(){t.$modal(D,null,{bgClose:!1,escClose:!1}).show({width:"xlarge"}),t.setStatus()}),(function(){t.setStatus()})))},setStatus:function(t){this.$emit("sending",t),this.sending=t}}},I=function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"uk-button uk-button-primary uk-button-small",class:{"uk-button-sending":this.sending},attrs:{type:"button"},on:{click:this.save}},[this._v(this._s(this.$t("Save as")))])};I._withStripped=!0;var q={components:{ActionPublish:V,ActionSave:r({render:I,staticRenderFns:[]},void 0,W,void 0,!1,void 0,!1,void 0,void 0,void 0)},data:function(){return{action:"publish",sending:!1}},computed:{actions:function(){var t=this.$store.getters.config.actions;return Object.keys(t).reduce((function(e,n){return t[n]&&e.push(n),e}),[])}},methods:{change:function(){var t=this.actions.indexOf(this.action);this.action=t+1>this.actions.length-1?this.actions[0]:this.actions[t+1]}}},G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.actions.length&&0!==t.$store.state.status?n("div",{staticClass:"customizer-actions"},[n("div",{staticClass:"uk-button-group"},[n("action-"+t.action,{tag:"component",on:{sending:function(e){t.sending=e}}}),t._v(" "),t.actions.length>1&&!t.sending?n("button",{staticClass:"uk-button uk-button-primary uk-button-small",style:{padding:"0 5px"},attrs:{type:"button"},on:{click:t.change}},[n("span",{style:{verticalAlign:"2px"},attrs:{"data-uk-icon":"cog"}})]):t._e()],1)]):t._e()};G._withStripped=!0;var U=r({render:G,staticRenderFns:[]},void 0,q,void 0,!1,void 0,!1,void 0,void 0,void 0),M={methods:{reload:function(){this.$emit("resolve"),window.onbeforeunload=null;var t=function(){return location.reload()};this.$store.dispatch("close").then(t,t)},back:function(){var t=this;this.$emit("resolve"),window.onbeforeunload=null;var e=function(){return location.assign(t.$store.getters.route.preview)};this.$store.dispatch("close").then(e,e)}}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"uk-modal-header"},[n("h2",{staticClass:"uk-modal-title"},[t._v(t._s(t.$t("Configure")))])]),t._v(" "),n("div",{staticClass:"uk-modal-body"},[t._v("\n        "+t._s(t.$t("The design theme you are customizing does not contain Customizer application integration code."))),n("br"),t._v("\n        "+t._s(t.$t("Follow instructions on"))+" "),n("a",{attrs:{href:t.$store.getters.route.backend+"customizer/",target:"_blank"}},[t._v(t._s(t.$t("main page of app")))]),t._v(".\n    ")]),t._v(" "),n("div",{staticClass:"uk-modal-footer uk-text-right"},[n("button",{staticClass:"uk-button uk-button-default uk-modal-close",attrs:{type:"button"},on:{click:t.reload}},[t._v(t._s(t.$t("Return to customize")))]),t._v(" "),n("button",{staticClass:"uk-button uk-button-primary",attrs:{autofocus:""},on:{click:t.back}},[t._v(t._s(t.$t("Return to site")))])])])};H._withStripped=!0;var X=r({render:H,staticRenderFns:[]},void 0,M,void 0,!1,void 0,!1,void 0,void 0,void 0),J={name:"App",components:{Sidebar:v,Collapse:f,Devices:_,Close:F,Action:U,Preview:R},computed:a({},e.mapState(["status"]),{},e.mapGetters("sidebar",["collapse","sectionListCount"])),watch:{status:function(t,e){3===t&&this.$modal(X,null,{bgClose:!1,escClose:!1}).show({width:"xlarge"})}},mounted:function(){this.$store.commit("setState",{name:"status",value:4}),this.$store.dispatch("preview/load")}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"customizer",class:t.collapse?t.collapse:["expanded"],attrs:{id:"customizer"}},[n("div",{staticClass:"customizer-sidebar"},[n("div",{staticClass:"customizer-sidebar-header"},[n("Close"),t._v(" "),t.sectionListCount?n("Action"):t._e()],1),t._v(" "),n("div",{staticClass:"customizer-sidebar-content"},[n("Sidebar",{scopedSlots:t._u([{key:"panel",fn:function(e){var i=e.panel;return[i.component?n(i.component,t._b({tag:"component",attrs:{config:i}},"component",i.props,!1)):t.$options.components[i.name]?n(i.name,t._b({tag:"component",attrs:{config:i}},"component",i.props,!1)):t._e()]}}])})],1),t._v(" "),t.sectionListCount?n("div",{staticClass:"customizer-sidebar-footer"},[n("Collapse"),t._v(" "),n("Devices")],1):t._e()]),t._v(" "),n("div",{staticClass:"customizer-main"},[t.sectionListCount?n("Preview"):t._e()],1)])};Y._withStripped=!0;var B,K=r({render:Y,staticRenderFns:[]},void 0,J,void 0,!1,void 0,!1,void 0,void 0,void 0),Q=function(t){var e=t.route,n=t.draft;return i.ajax(e.ajax+"publish/?id="+n.id)},Z=function(t){var e=t.route,n=t.draft;return i.ajax(e.ajax+"close/?id="+n.id)},tt=function(){return new i.Promise((function(t,e){setTimeout((function(){t()}),1e4)}))};function et(t,e,n){for(var s=e.split("."),o=0;o<s.length;o++){if(i.isUndefined(t[s[o]]))return n;t=t[s[o]]}return t}function nt(t,e,n){for(var s=e.split(".");s.length>1;){var o=s.shift();i.isObject(t[o])||B(t,o,{}),t=t[o]}B(t,s.shift(),n)}function it(t){return void 0===t&&(t={}),Object.keys(t).reduce((function(e,n){return e[n]=t[n],e[n].name=n,e}),{})}var st={namespaced:!0,state:{stack:[],collapse:!1},getters:{collapse:function(t){return{expanded:!t.collapse,collapsed:t.collapse}},panels:function(t,e,n,s){return i.assign(s.panels,s.sections)},openPanels:function(t){return t.stack},openPanelsCount:function(t,e){return e.openPanels.length},sectionList:function(t,e,n,i){return Object.keys(i.sections).map((function(t){return i.sections[t]}))},sectionListCount:function(t,e){return e.sectionList.length},panel:function(t,e){return e.openPanelsCount?e.openPanels[e.openPanelsCount-1]:null}},actions:{openPanel:function(t,e){var n=t.commit,s=t.getters;(e=i.isString(e)?s.panels[e]:e)&&n("openPanel",e)},closePanel:function(t,e){var n=t.commit,i=t.getters;void 0===e&&(e=i.openPanelsCount);do{n("closePanel")}while(i.openPanelsCount>e)}},mutations:{openPanel:function(t,e){return t.stack.push(e)},closePanel:function(t){return t.stack.pop()},toggleCollapseStatus:function(t){return t.collapse=!t.collapse}}},ot={namespaced:!0,state:{status:0},getters:{status:function(t){return t.status},src:function(t,e,n){return et(n,"config.route.preview")},overlay:function(t,e,n){return 4!==t.status||4!==n.status}},actions:{ready:function(t,e){var n=t.commit,i=t.rootState,s=et(e,"window.$config.draft.id");s&&n("setState",{name:"status",value:s===et(i,"config.draft.id")?4:3})},beforeunload:function(t){return(0,t.commit)("setState",{name:"status",value:0})},unload:function(t){return(0,t.commit)("setState",{name:"status",value:0})},load:function(t){return(0,t.commit)("setState",{name:"status",value:1})}},mutations:{setState:function(t,e){return nt(t,e.name,e.value)}}};n.use(o);var at={status:0,config:et(window,"$config",{}),panels:et(window,"$customizer.panels",{}),sections:et(window,"$customizer.sections",{})},rt={config:function(t){return t.config},theme:function(t){return et(t,"config.theme",{})},draft:function(t){return et(t,"config.draft",{})},route:function(t){return et(t,"config.route",{})},panels:function(t){return it(t.panels)},sections:function(t){return it(t.sections)}},ut={publish:function(t){var e=t.commit,n=t.getters;return e("setState",{name:"status",value:2}),new i.Promise((function(t,i){var s=n.route,o=n.draft;Q({route:s,draft:o}).then((function(){t(),e("setState",{name:"status",value:4})}),(function(){i(),e("setState",{name:"status",value:4})}))}))},save:function(t){var e=t.commit,n=t.getters;return e("setState",{name:"status",value:2}),new i.Promise((function(t,i){n.route,n.draft;tt().then((function(){t(),e("setState",{name:"status",value:4})}),(function(){i(),e("setState",{name:"status",value:4})}))}))},close:function(t){var e=t.commit,n=t.getters;e("setState",{name:"status",value:0});var i=n.route,s=n.draft;return Z({route:i,draft:s})},"preview/ready":function(t,e){var n=t.commit,s=t.getters,o=e.window.$config;i.isEmpty(o)?n("setState",{name:"status",value:3}):(s.route.preview!==o.route.preview&&n("setState",{name:"config.route.preview",value:o.route.preview}),s.config.app!==o.app&&(n("setState",{name:"config.app",value:o.app}),window.history.pushState&&void 0!==window.history.state&&window.history.pushState({},"",o.route.url)))}},ct={setState:function(t,e){return nt(t,e.name,e.value)},setStatus:function(t,e){return t.status=e},setConfig:function(t,e){var n=e.name,i=e.value;return nt(t.config,n,i)}},lt=new o.Store({state:at,getters:rt,actions:ut,mutations:ct,modules:{sidebar:st,preview:ot}});n.use(s);var dt=new s({locale:et(lt.state,"config.locale","en_US"),messages:et(lt.state,"config.messages",{})}),vt={provide:function(){return{Modal:this}},data:function(){return{width:"",container:!1}},watch:{container:{handler:function(t){i.toggleClass(this.$el,"uk-modal-container",!!t)},immediate:!0}},mounted:function(){this.modal=t.modal(this.$el,this.options)},beforeDestroy:function(){this.modal.$destroy(!0)},methods:{show:function(t){var e=this;return!i.isEmpty(t)&&i.each(t,(function(t,n){e.$set(e,n,t)})),this.modal.show(),new i.Promise((function(t,n){e.promise={resolve:t,reject:n}}))},hide:function(){this.modal.hide()},hidden:function(){this.promise.resolve(),this.$nextTick(this.$destroy)},resolve:function(t){this.promise.resolve(t),this.modal.hide()},reject:function(t){this.promise.reject(t),this.modal.hide()}}},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{show:function(e){return e.target!==e.currentTarget?null:t.$emit("show")},hide:function(e){return e.target!==e.currentTarget?null:t.$emit("hide")},hidden:function(e){return e.target!==e.currentTarget?null:t.hidden(e)}}},[n("div",{class:["uk-modal-dialog",t.width?"uk-width-"+t.width:""]},[n("modal",t._b({on:{resolve:t.resolve,reject:t.reject}},"modal",t.props,!1))],1)])};ht._withStripped=!0;var pt=r({render:ht,staticRenderFns:[]},void 0,vt,void 0,!1,void 0,!1,void 0,void 0,void 0),ft={version:"1.2.0",install:function(t){this.installed||(window.onbeforeunload=function(){return lt.dispatch("close")},function(t){var e=t.set;t.config,B=e}(t),function(t){t.prototype.hasOwnProperty("$modal")||Object.defineProperty(t.prototype,"$modal",{get:function(){var e=this;return function(n,s,o){void 0===s&&(s={}),void 0===o&&(o={});var a=t.extend(n);return o=i.assign({stack:!0,bgClose:!0,escClose:!0},o),new t({parent:e,components:{modal:a},extends:pt,data:function(){return{props:s,options:o}}}).$mount()}}})}(t),i.ready((function(){new t({el:"#customizer",store:lt,i18n:dt,render:function(t){return t(K)}})})))}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(ft),ft},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit"),require("vuex"),require("vue"),require("uikit-util"),require("vue-i18n")):"function"==typeof define&&define.amd?define(["uikit","vuex","vue","uikit-util","vue-i18n"],e):(t=t||self).VueCustomizer=e(t.UIkit,t.Vuex,t.Vue,t.UIkit.util,t.VueI18n);
